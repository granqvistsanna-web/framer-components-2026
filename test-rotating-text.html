<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Rotating Text Preview</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #fafafa;
            padding: 40px;
        }
        .heading {
            text-align: center;
            letter-spacing: -0.02em;
            margin: 0;
            font-family: Inter, Arial, sans-serif;
            font-size: clamp(2.5em, 7.5vw, 4.5em);
            font-weight: 500;
            line-height: 1.05;
            max-width: 900px;
        }
        .highlight {
            color: #33de96;
            display: inline-block;
            position: relative;
            vertical-align: top;
        }
        .inner {
            display: inline-block;
            position: relative;
            height: 1.1em;
            overflow: hidden;
            vertical-align: top;
            transition: width 0.75s cubic-bezier(0.76, 0, 0.24, 1);
        }
        .word {
            display: block;
            white-space: nowrap;
            position: absolute;
            top: 0;
            left: 0;
            will-change: transform, opacity;
        }
        /* Hidden measurement */
        .measure {
            position: absolute;
            visibility: hidden;
            pointer-events: none;
            white-space: nowrap;
            top: 0; left: 0;
        }
        .measure span {
            display: inline-block;
        }
    </style>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
</head>
<body>
    <h1 class="heading">
        Simple
        <span class="highlight">
            <span class="inner" id="inner">
                <span class="word" id="activeWord">routines</span>
            </span>
        </span>
        that give growing and ambitious teams more clarity.
    </h1>

    <!-- Hidden measurement spans -->
    <div class="measure heading" id="measure"></div>

    <script>
        const words = ["routines", "tools", "systems", "help"];
        const inner = document.getElementById("inner");
        const measureContainer = document.getElementById("measure");
        const inDuration = 750;  // ms
        const outDuration = 600; // ms
        const stepDuration = 1750; // ms

        // Create measurement spans
        const measureSpans = words.map((word) => {
            const span = document.createElement("span");
            span.textContent = word;
            measureContainer.appendChild(span);
            return span;
        });

        let activeIndex = 0;

        // Set initial width
        requestAnimationFrame(() => {
            inner.style.width = measureSpans[0].getBoundingClientRect().width + "px";
        });

        function createWordEl(text) {
            const el = document.createElement("span");
            el.className = "word";
            el.textContent = text;
            el.style.transform = "translateY(150%)";
            el.style.opacity = "0";
            return el;
        }

        function animateIn(el) {
            el.style.transition = `transform ${inDuration}ms cubic-bezier(0.76,0,0.24,1), opacity ${inDuration}ms cubic-bezier(0.76,0,0.24,1)`;
            requestAnimationFrame(() => {
                el.style.transform = "translateY(0%)";
                el.style.opacity = "1";
            });
        }

        function animateOut(el, onDone) {
            el.style.transition = `transform ${outDuration}ms cubic-bezier(0.76,0,0.24,1), opacity ${outDuration}ms cubic-bezier(0.76,0,0.24,1)`;
            el.style.transform = "translateY(-150%)";
            el.style.opacity = "0";
            setTimeout(() => {
                if (el.parentNode) el.parentNode.removeChild(el);
                if (onDone) onDone();
            }, outDuration);
        }

        // Show first word
        const firstWord = inner.querySelector(".word");
        firstWord.style.transform = "translateY(0%)";
        firstWord.style.opacity = "1";
        firstWord.style.transition = "none";

        function showNext() {
            const nextIndex = (activeIndex + 1) % words.length;
            const prevEl = inner.querySelector(".word");
            const nextEl = createWordEl(words[nextIndex]);

            // Update width
            inner.style.width = measureSpans[nextIndex].getBoundingClientRect().width + "px";

            // Animate out old
            if (prevEl) animateOut(prevEl);

            // Animate in new
            inner.appendChild(nextEl);
            requestAnimationFrame(() => animateIn(nextEl));

            activeIndex = nextIndex;
        }

        setInterval(showNext, stepDuration);
    </script>
</body>
</html>
